<template lang='pug'>
.video-play(
	v-if='isVisible'
)
	video.video(muted loop autoplay playsinline poster='')
		source(src='@/assets/video/video-1.mp4' type="video/mp4")
	
	button.btn
		span Выбрать коктейль
		<svg class="btn__icon" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M27.7355 42.0339C27.7355 43.2995 26.7095 44.3255 25.4439 44.3255C24.1782 44.3255 23.1522 43.2995 23.1522 42.0339C23.1522 40.7682 24.1782 39.7422 25.4439 39.7422C26.7095 39.7422 27.7355 40.7682 27.7355 42.0339Z" fill="white"/>
			<path d="M32.3189 35.1589C32.3189 36.4245 31.2928 37.4505 30.0272 37.4505C28.7615 37.4505 27.7355 36.4245 27.7355 35.1589C27.7355 33.8932 28.7615 32.8672 30.0272 32.8672C31.2928 32.8672 32.3189 33.8932 32.3189 35.1589Z" fill="white"/>
			<path fill-rule="evenodd" clip-rule="evenodd" d="M19.0778 6.15218C17.1934 5.37166 15.1199 5.16743 13.1195 5.56534C11.1191 5.96325 9.28154 6.94542 7.83931 8.38765C6.39708 9.82988 5.41491 11.6674 5.017 13.6678C4.61909 15.6683 4.82332 17.7418 5.60384 19.6261C6.38437 21.5105 7.70615 23.1211 9.40203 24.2542C10.7785 25.174 12.3513 25.7456 13.9855 25.9283V44.3255C13.9855 48.1225 17.0636 51.2005 20.8605 51.2005H34.6105C38.4075 51.2005 41.4855 48.1225 41.4855 44.3255V14.5339H36.7716L38.4903 9.95052H48.3605V5.36719H36.9022C35.9469 5.36719 35.0919 5.95975 34.7564 6.8542L31.8766 14.5339H25.38C25.1973 12.8996 24.6256 11.3269 23.7059 9.95037C22.5727 8.25449 20.9621 6.93271 19.0778 6.15218ZM18.5689 19.1172H30.1578L28.4391 23.7005H18.5689V19.1172ZM35.0528 19.1172L33.3341 23.7005H36.9022V19.1172H35.0528ZM20.7448 14.5339C20.5969 13.8097 20.3096 13.1173 19.895 12.4967C19.2655 11.5546 18.3707 10.8203 17.3238 10.3866C16.2769 9.953 15.125 9.83955 14.0136 10.0606C12.9023 10.2817 11.8815 10.8273 11.0802 11.6286C10.279 12.4298 9.73333 13.4506 9.51227 14.562C9.29121 15.6733 9.40466 16.8253 9.83829 17.8721C10.2719 18.919 11.0062 19.8138 11.9484 20.4433C12.569 20.858 13.2614 21.1453 13.9855 21.2931V14.5339H20.7448ZM18.5689 44.3255V28.2839H23.1522C23.1522 29.5495 24.1782 30.5755 25.4439 30.5755C26.7095 30.5755 27.7355 29.5495 27.7355 28.2839H36.9022V44.3255C36.9022 45.5912 35.8762 46.6172 34.6105 46.6172H20.8605C19.5949 46.6172 18.5689 45.5912 18.5689 44.3255Z" fill="white"/>
		</svg>

</template>

<script>
export default {
	name: 'videoPlay',
	data() {
		return {
			isVisible: false,
			timer: null,
			timeToStart: 15, // min
		}
	},
	mounted() {
		this.showVideo();
	},
	methods: {
		showVideo () {
			const videoTimer = () => {
				this.timer = setTimeout(() => {
					this.isVisible = true;
				}, 60000 * this.timeToStart);
			}
			videoTimer();

			const resetTimer = () => {
				console.log(111);
				clearInterval(this.timer);
				this.isVisible = false;
				videoTimer();
			}

			document.addEventListener('click', resetTimer);
		},
	},
}
</script>

<style lang='sass' src='./style.sass'></style>
